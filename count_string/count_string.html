<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>文字数カウント</title>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/vue"></script>
</head>
<body>
<div class="container">

<h2><div id="app-1">{{ message }}</div></h2>



  <div class="form-group">
    <label for="textarea1">レポートに使うのだ</label> 
  <textarea  id="count_form" class="form-control" cols="50" rows="10" placeholder='カウントする文字を入力してください' onchange="return count();"></textarea>
</div>

</br>

<h5 id="string1">改行空白含めた文字数: </h5>
<h5 id="string2">改行含めない空白含めた文字数: </h5>
<h5 id="string3">改行空白含めない文字数: </h5>

</div>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
<script>
var app1 = new Vue({
  el: '#app-1',                        /* #app-1 要素に対して Vue を適用する */
  data: { message: '文字数カウント!' }    /* message という名前のデータを定義する */
})

var app = new Vue({
  el: '#app',
  data: {
  	textInput: '',		
  }
})

function new_line_count(string){
  var count=0;
  for(var i=0; i<string.length; i++){
      if(string[i] == '\n'){
        count++;
      }
  }
  return count;
}

function blank_count(string){
  var count=0;
  for(var i=0; i<string.length; i++){
    if(string[i] == ' ' || string[i] == '　'){
      count++ //全角半角
    }
  }
  return count;
}

function count(){
  var value = document.getElementById("count_form").value;
  var new_line = new_line_count(value);
  var blank = blank_count(value);

  var string1_HTML = '改行空白含めた文字数:' + value.length;
  document.getElementById("string1").innerHTML = string1_HTML;

  var length = value.length-new_line
  var string2_HTML = '改行含めない空白含めた文字数:' + length;
  document.getElementById("string2").innerHTML = string2_HTML;

  length = value.length -blank - new_line;
  var string3_HTML = '改行空白含めない文字数: ' + length;
  document.getElementById("string3").innerHTML = string3_HTML;
}
</script>

</body>
</html>